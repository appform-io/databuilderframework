package io.appform.databuilderframework.model;

import io.appform.databuilderframework.engine.Utils;

import java.util.Map;

/**
 * Response from the system, once the {@link io.appform.databuilderframework.model.DataFlow} is executed by a
 * {@link io.appform.databuilderframework.engine.DataFlowExecutor}.
 */
public class DataExecutionResponse {
    /**
     * A map of responses from the different {@link io.appform.databuilderframework.engine.DataBuilder} executions.
     * Key: Builder name
     * Value: Data generated by them.
     */
    private Map<String,Data> responses;

    public DataExecutionResponse(Map<String, Data> responses) {
        this.responses = responses;
    }

    public DataExecutionResponse() {
    }

    public Map<String, Data> getResponses() {
        return responses;
    }

    public <T extends Data> T get(Class<T> type) {
        Data d = responses.get(Utils.name(type));
        return type.cast(d);
    }

    public void setResponses(Map<String, Data> responses) {
        this.responses = responses;
    }
}
